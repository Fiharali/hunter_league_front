<div class="overflow-x-auto container">

  @if (showToasteVar) {
  <div class="toast toast-top toast-end">
    <div class="alert" [class]="showToastMessageColor">
      <span>{{showToastMessage}}</span>
    </div>
  </div>
}
  <div class="">
    <form  class="">
      <input
        type="text"
        name="text"
       [(ngModel)]="newTodo.text"
        placeholder="Type text  here"
        class="input w-full max-w-xs"
      />
      <input
        type="date"
        name="date"
        [(ngModel)]="newTodo.date"
        placeholder="Type  date here"
        class="input w-full max-w-xs"
      />
      @if (isEdit) {
        <button type="submit" (click)="updateTodo()" class="btn btn-success">Update</button>
      }
      @else {
        <button type="submit" (click)="addTodo()" class="btn btn-primary">Add</button>
      }
    </form>
  </div>

  <table class="table mt-52">
    <thead>
      <tr>
        <th>ID</th>
        <th>TEXT</th>
        <th>DATE</th>
        <th>ACTIONS</th>
      </tr>
    </thead>
    <tbody>
      @for (todo of todos; track $index) {
      <tr>
        <th>{{ todo.id }}</th>
        <th>{{ todo.text }}</th>
        <th>{{ todo.date }}</th>
        <th class="flex">
          <button  (click)="editTodo(todo.id)" class="btn btn-sm btn-warning">Edit</button>
          <button  (click)="deleteTodo(todo.id)" class="btn btn-sm ms-4 btn-error">Delete</button>
        </th>
      </tr>
      } @empty {
      <tr>
        <td colspan="4" class="text-center">No data found</td>
      </tr>
      }
    </tbody>
  </table>
</div>
